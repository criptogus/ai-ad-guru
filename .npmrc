
# Disable optional dependencies to prevent platform-specific binary issues
optional=false
omit=optional

# Force pure JavaScript implementations where possible
node-linker=hoisted
prefer-offline=true

# Set environment variable to force pure JS implementation
ROLLUP_NATIVE=false

# Explicitly set npm configuration to ensure compatibility with Node.js
engine-strict=false
legacy-peer-deps=true

# Skip Puppeteer browser download - more aggressive settings
PUPPETEER_SKIP_DOWNLOAD=true
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
PUPPETEER_PRODUCT=none
PUPPETEER_SKIP_VALIDATE_CHROMIUM_INSTALLATION=true
PUPPETEER_SKIP_BROWSER_DOWNLOAD=true
BROWSER=none

# Rollup environment variables
ROLLUP_PURE_JS=true
JS_ONLY=true
SKIP_BINARY_INSTALL=true

# Additional safeguards
BUILD_ONLY_JS=true
SKIP_OPTIONAL_DEPENDENCY_CHECK=true
